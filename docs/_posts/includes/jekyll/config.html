<div class="chapter-item">
  <a name="安装配置"></a>
  <h2 class="chapter-title">安装配置</h2>
  <article>
    <ul>
      <li>
        <h3>安装Jekyll</h3>
        <p>
          Jekyll的运行依赖于Ruby，需要先搭建Ruby的运行环境。
        </p>
        <p>
          Jekyll的最好安装方式是通过RubyGem:
          <code class="language-bash">
            $ gem install jekyll
          </code>
        </p>
      </li>
      <li>
        <h3>命令与配置</h3>
        <ol>
          <li>
            <h4>运行在命令行</h4>
            <p>
              Jekyll的命令行操作是通过RubyGem实现的，主要有两个常用命令：
              <h5>build</h5>
              <pre><code class="language-bash">$ jekyll build
# 当前文件夹中的内容将会生成到 ./site 文件夹中。

$ jekyll build --destination &lt;destination&gt;
# 当前文件夹中的内容将会生成到目标文件夹&lt;destination&gt;中。

$ jekyll build --source &lt;source&gt; --destination &lt;destination&gt;
# 指定源文件夹&lt;source&gt;中的内容将会生成到目标文件夹&lt;destination&gt;中。

$ jekyll build --watch
# 当前文件夹中的内容将会生成到 ./site 文件夹中，
# 查看改变，并且自动再生成。</code></pre>
              <h5>server</h5>
              <pre><code class="language-bash">$ jekyll serve
# 一个开发服务器将会运行在 http://localhost:4000/
# 已经开启了查看更新并自动再生成. 用`--no-watch`参数可以禁用(与2.4版本有不同表现)

$ jekyll serve --detach
# 功能和`jekyll serve`命令相同，但是会脱离终端在后台运行。

$ jekyll serve --no-watch
# 和`jekyll serve`相同，但是不会查看变更并且自动再生成。</code></pre>
              很多配置选项既可以在命令行中作为参数选项(flags)设定，
              也可以在源文件根目录中的 _config.yml 文件中进行设定。
              _config.yml文件包含着全局配置项和变量。
              Jekyll 会自动加载这些配置，实际上大部分的配置项都要通过配置文件来设置，
              但是，只会加载一次，_config.yml文件中的变化将不会被包含在自动重新渲染中。
              此外，数据文件在自动重渲染的过程中会被包含和重载。
            </p>
            <p>
              destination文件夹内容在重新编译的时候会被自动清空。
              非站点创建的文件或目录将被移除，如果想要某个文件或目录留在&lt;destination&gt;
              中， 可以用&lt;keep_files&gt;配置指令指定要保留的文件。
              不用为&lt;destination&gt;使用重要的位置，只需将其作为一个暂存区，
              从里面复制文件到服务器即可。
            </p>
          </li>
          <li>
            <h4>设置配置项</h4>
            {% for set in site.data.jekyll.config %}
              <h5>{{ set.name }}</h5>
              {% if set.desc %}
                <p>{{ set.desc }}</p>
              {% endif %}
              <ul>
                {% for item in set.data %}
                  <li>
                    <p>
                      <strong>{{ item.name }}</strong>({{ item.desc }}) <br>
                      {% if item.config != null %}
                      配置项: <code class="languag-yaml">{{ item.config }}</code> <br>
                      {% endif %}
                      {% if item.command != null %}
                      命令行参数: <code class="language-bash">{{ item.command }}</code>
                      {% endif %}
                    </p>
                  </li>
                {% endfor %}
              </ul>
            {% endfor %}
          </li>
          <li>
            <h4>默认配置</h4>
            <pre><code class="language-yaml">#_config.yml
# Where things are
source:       .
destination:  ./_site
plugins_dir:  _plugins
layouts_dir:  _layouts
data_dir:     _data
includes_dir: _includes
collections:
  posts:
    output:   true

# Handling Reading
safe:         false
include:      [".htaccess"]
exclude:>
["node_modules", "vendor/bundle/",
"vendor/cache/", "vendor/gems/", "vendor/ruby/"]
keep_files:   [".git", ".svn"]
encoding:     "utf-8"
markdown_ext: "markdown,mkdown,mkdn,mkd,md"

# Filtering Content
show_drafts: null
limit_posts: 0
future:      false
unpublished: false

# Plugins
whitelist: []
gems:      []

# Conversion
markdown:    kramdown
highlighter: rouge
lsi:         false
excerpt_separator: "\n\n"
incremental: false

# Serving
detach:  false
port:    4000
host:    127.0.0.1
baseurl: "" # does not include hostname
show_dir_listing: false

# Outputting
permalink:     date
paginate_path: /page:num
timezone:      null

quiet:    false
verbose:  false
defaults: []

liquid:
  error_mode: warn

# Markdown Processors
rdiscount:
  extensions: []

redcarpet:
  extensions: []

kramdown:
  auto_ids:       true
  footnote_nr:    1
  entity_output:  as_char
  toc_levels:     1..6
  smart_quotes:   lsquo,rsquo,ldquo,rdquo
  input:          GFM
  hard_wrap:      false
  footnote_nr:    1</code></pre>
          </li>
          <li>
            <h4>Markdown选项</h4>
          </li>
        </ol>
      </li>
    </ul>
  </article>
</div>
